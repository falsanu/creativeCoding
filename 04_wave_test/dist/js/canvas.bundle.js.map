{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/process/browser.js","webpack:///./src/canvas.js"],"names":["ctx","document","getElementById","areas","Array","options","name","debug","image","src","drawInitial","canvas","width","height","effect","raster","enable","magnifier","swooshLength","rows","columns","animation","enabled","speed","theImage","Image","initCanvas","getContext","console","log","process","exit","rectHeight","rectWidth","j","i","cols","x","y","w","h","push","active","loadImage","onload","drawImage","rasterCanvas","o","strokeStyle","strokeRect","resetImage","drawArea","obj","origin","k","mag","targetMag","x2","y2","angle","Math","abs","floor","atan2","x1","y1","PI","radian","shortening","cos","sin","mymag","nw","left","top","context","globalAlpha","fillStyle","fillRect","font","textX","fillText","toFixed","requestAnimationFrame","writeMessage","message","clearRect","getMousePos","evt","rect","getBoundingClientRect","clientX","clientY","addEventListener","mousePos","reducer","l","runScript"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AAC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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var ctx = document.getElementById('image');\nlet areas = new Array();\n\nlet options = {\n  name: '04_WAVE',\n  debug: false,\n  image: {\n    src:\n      'https://images.pexels.com/photos/681335/pexels-photo-681335.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350',\n    drawInitial: true\n  },\n  canvas: {\n    width: ctx.width,\n    height: ctx.height\n  },\n  effect: {\n    raster: false,\n    enable: true,\n    magnifier: 2.5,\n    swooshLength: 2,\n    rows: ctx.height / 70,\n    columns: ctx.width / 70\n  },\n  animation: {\n    enabled: false,\n    speed: 0.1\n  }\n};\n\nlet theImage = new Image();\n\nfunction initCanvas(options = {}) {\n  if (ctx.getContext) {\n    ctx = ctx.getContext('2d');\n  } else {\n    console.log('no context found');\n    process.exit(1);\n  }\n\n  // Defining width and height of single item\n  let rectHeight = options.canvas.height / options.effect.rows;\n  let rectWidth = options.canvas.width / options.effect.columns;\n\n  // iterate through all rows and columns\n  for (var j = 0, rows = options.effect.rows; j < rows; j++) {\n    for (var i = 0, cols = options.effect.columns; i < cols; i++) {\n      const x = i * rectWidth,\n        y = j * rectHeight,\n        w = rectWidth,\n        h = rectHeight;\n\n      // create new line\n      if (!areas[i]) {\n        areas[i] = [];\n      }\n      // add column to row\n      areas[i].push({\n        i,\n        j,\n        x,\n        y,\n        w,\n        h,\n        active: false\n      });\n    }\n  }\n}\n\n// Load Image\nfunction loadImage(options = {}) {\n  console.log('loading image: ', options.image.src);\n\n  theImage.onload = function() {\n    console.log('Image Loaded');\n    if (options.image.drawInitial) {\n      ctx.drawImage(theImage, 0, 0);\n    }\n  };\n  theImage.src = options.image.src;\n}\n\nfunction rasterCanvas(options = {}) {\n  for (var j = 0; j < options.effect.rows; j++) {\n    for (var i = 0; i < options.effect.columns; i++) {\n      const o = areas[i][j];\n      ctx.strokeStyle = '#ffffff';\n      ctx.strokeRect(o.x, o.y, o.w, o.h);\n    }\n  }\n}\n\nfunction resetImage() {\n  ctx.drawImage(theImage, 0, 0);\n}\n\nfunction drawArea(obj, origin, k, mag, targetMag) {\n  let speed = options.animation.speed;\n  if (!obj) return;\n  if (!targetMag && options.animation.enabled) {\n    targetMag = mag;\n    mag = 1;\n    speed = k / options.animation.speed;\n  }\n  if (!obj.active) {\n    let x2 = obj.i;\n    let y2 = obj.j;\n\n    let angle = Math.abs(\n      Math.floor(Math.atan2(x2 - origin.x1, y2 - origin.y1) * (180 / Math.PI))\n    );\n    let radian = angle * (Math.PI / 180);\n    let shortening = 1; // no shortening\n\n    // This is definitfely weired!\n    if (angle < 45) {\n      // cos\n      shortening = Math.cos(radian);\n    } else if (angle < 135) {\n      // sin\n      shortening = Math.sin(radian);\n    } else if (angle < 225) {\n      // cos\n      shortening = Math.cos(radian);\n    } else if (angle < 315) {\n      // sin\n      shortening = Math.sin(radian);\n    } else {\n      // cos\n      shortening = Math.cos(radian);\n    }\n\n    shortening = Math.abs(shortening);\n    let mymag = mag * shortening;\n\n    let nw = obj.w * mymag,\n      h = obj.h * mymag;\n    let left = (nw - obj.w) / 2;\n    let top = (h - obj.h) / 2;\n\n    let x = obj.x - left;\n    let y = obj.y - top;\n\n    ctx.drawImage(theImage, obj.x, obj.y, obj.w, obj.h, x, y, nw, h);\n\n    if (options.debug) {\n      var context = canvas.getContext('2d');\n      context.globalAlpha = 0.3;\n      context.fillStyle = 'white';\n      context.fillRect(x, y, nw, h);\n      context.globalAlpha = 1;\n      context.font = '8pt Helvetica';\n      context.fillStyle = 'black';\n      let textX = x;\n      context.fillText(k, textX + 2, y + 12);\n      context.fillText(\n        Math.floor(\n          Math.atan2(x2 - origin.x1, y2 - origin.y1) * (180 / Math.PI)\n        ) +\n          'Â°' +\n          shortening.toFixed(2),\n        textX + 2,\n        y + 24\n      );\n      // context.fillText(obj.i + '|' + obj.j, textX + 2, y + 24);\n    }\n    ctx.strokeStyle = 'hsla(' + k * 90 + ',100%,50%,100)';\n    ctx.strokeRect(x, y, nw, h);\n\n    // obj.active = true;\n    if (options.animation.enabled && mag <= targetMag) {\n      obj.active = false;\n      requestAnimationFrame(function() {\n        drawArea(\n          obj,\n          origin,\n          k,\n          mag + mag * options.animation.speed,\n          targetMag\n        );\n      });\n    }\n  }\n}\n\n// DEBUGGING\n\nfunction writeMessage(canvas, message) {\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, 300, 50);\n  context.font = '12pt Calibri';\n  context.fillStyle = 'black';\n  context.fillText(message, 10, 25);\n}\n\n// EFFECT PART\n\nvar canvas = document.getElementById('image');\nvar context = canvas.getContext('2d');\n\nfunction getMousePos(canvas, evt) {\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: evt.clientX - rect.left,\n    y: evt.clientY - rect.top\n  };\n}\n\ncanvas.addEventListener(\n  'mousemove',\n  function(evt) {\n    var mousePos = getMousePos(canvas, evt);\n    resetImage();\n\n    for (var j = 0; j < options.effect.rows; j++) {\n      for (var i = 0; i < options.effect.columns; i++) {\n        let o = areas[i][j];\n        o.active = false;\n        if (\n          mousePos.x > o.x &&\n          mousePos.x < o.x + o.w &&\n          mousePos.y > o.y &&\n          mousePos.y < o.y + o.h\n        ) {\n          if (options.debug) {\n            var message =\n                'Mouse position: ' +\n                mousePos.x +\n                ',' +\n                mousePos.y +\n                ' x: ' +\n                i +\n                ', y: ' +\n                j,\n              j;\n            writeMessage(canvas, message);\n          }\n          let mag = options.effect.magnifier || 0,\n            swooshLength = options.effect.swooshLength || 2;\n\n          let reducer = mag / (swooshLength + 1);\n\n          let x1 = i;\n          let y1 = j;\n\n          // start with outer swoosh\n          for (let k = swooshLength; k >= 1; k--) {\n            if (k == swooshLength) {\n              mag = 1;\n            } else {\n              mag = mag + reducer;\n            }\n\n            // angle calculation\n            // let angle = Math.atan2(x2 - x1, y2 - y1) * (180/Math.PI)\n\n            // calculation for swoosh-size\n\n            if (mag < options.effect.magnifier) {\n              drawArea(areas[i + k][j + k], { x1, y1 }, k, mag); // top right\n              drawArea(areas[i - k][j - k], { x1, y1 }, k, mag); // bottom left\n              drawArea(areas[i + k][j - k], { x1, y1 }, k, mag); // top right\n              drawArea(areas[i - k][j + k], { x1, y1 }, k, mag); // bbottom left\n\n              for (let l = 0; l < k; l++) {\n                drawArea(areas[i + k][j + l], { x1, y1 }, k, mag); // down\n\n                drawArea(areas[i - k][j + l], { x1, y1 }, k, mag); // up\n                drawArea(areas[i + k][j - l], { x1, y1 }, k, mag); // down\n                drawArea(areas[i - k][j - l], { x1, y1 }, k, mag); // up\n                drawArea(areas[i - l][j + k], { x1, y1 }, k, mag); //bottom\n                drawArea(areas[i + l][j + k], { x1, y1 }, k, mag); //bottom\n                drawArea(areas[i + l][j - k], { x1, y1 }, k, mag); //top\n                drawArea(areas[i - l][j - k], { x1, y1 }, k, mag); //top\n              }\n\n              drawArea(areas[i][j - k], { x1, y1 }, k, mag); //top\n              drawArea(areas[i + k][j], { x1, y1 }, k, mag); // right\n              drawArea(areas[i - k][j], { x1, y1 }, k, mag); // left\n              drawArea(areas[i][j + k], { x1, y1 }, k, mag); //bottom\n            }\n          }\n\n          // draw center with max magnifier\n          drawArea(o, { x1, y1 }, 0, options.effect.magnifier);\n        }\n      }\n    }\n  },\n  false\n);\n\n/**\n * Starts the whole show\n * @param {} options\n */\nfunction runScript(options = {}) {\n  console.log('Startup: ', options.name);\n  console.log(options);\n\n  // creates the initial parts of the image\n  initCanvas(options);\n\n  // loads and draws the image\n  loadImage(options);\n\n  // create raster over image\n  if (options.effect.raster) {\n    rasterCanvas(options);\n  } else {\n    console.log('slicer disabled');\n  }\n}\n\nrunScript(options);\n"],"sourceRoot":""}