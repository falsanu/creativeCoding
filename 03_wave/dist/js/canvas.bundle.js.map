{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js"],"names":["ctx","document","getElementById","width","height","areas","Array","rowCount","colCount","magnifier","swooshLength","animationSpeed","imageSource","theImage","Image","getContext","initCanvas","rectWidth","rectHeight","j","i","x","y","w","h","push","active","onload","console","log","src","sliceCanvas","o","strokeStyle","strokeRect","resetImage","drawImage","obj","targetMag","color","mag","nw","nh","links","oben","window","requestAnimationFrame","writeMessage","canvas","message","context","clearRect","font","fillStyle","fillText","getMousePos","evt","rect","getBoundingClientRect","clientX","left","clientY","top","addEventListener","mousePos","lowerer","reducer","k","l"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","var ctx = document.getElementById(\"image\");\nlet width = ctx.width;\nlet height = ctx.height;\nlet areas = new Array();\n\nlet rowCount = 50;\nlet colCount = 70;\nlet magnifier = 3;\nlet swooshLength = 20;\nlet animationSpeed = 0.1;\n\nlet imageSource =\n  \"https://images.pexels.com/photos/681335/pexels-photo-681335.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350\";\n\nlet theImage = new Image();\n\n// create canvas\nif (ctx.getContext) {\n  ctx = ctx.getContext(\"2d\");\n}\n\nfunction initCanvas() {\n  //Loading of the home test image - img1\n  let rectWidth = width / colCount;\n  let rectHeight = height / rowCount;\n\n  for (var j = 0; j < rowCount; j++) {\n    for (var i = 0; i < colCount; i++) {\n      const x = i * rectWidth,\n        y = j * rectHeight,\n        w = rectWidth,\n        h = rectHeight;\n\n      if (!areas[i]) {\n        areas[i] = [];\n      }\n      areas[i].push({\n        x,\n        y,\n        w,\n        h,\n        active: false\n      });\n    }\n  }\n  //drawing of the test image - img1\n  theImage.onload = function() {\n    console.log(\"Image Loaded\");\n  };\n  theImage.src = imageSource;\n\n  // sliceCanvas();\n}\n\nfunction sliceCanvas() {\n  return;\n  for (var j = 0; j < rowCount; j++) {\n    for (var i = 0; i < colCount; i++) {\n      const o = areas[i][j];\n      ctx.strokeStyle = \"#ffffff\";\n      ctx.strokeRect(o.x, o.y, o.w, o.h);\n    }\n  }\n}\n\nfunction resetImage() {\n  ctx.drawImage(theImage, 0, 0);\n}\n\nfunction drawImage(obj, targetMag, color, mag) {\n  if (!obj) return;\n  if (!mag) {\n    mag = 1;\n  }\n  if (!color) {\n    color = \"#FF0000\";\n  }\n  let nw = obj.w * mag,\n    nh = obj.h * mag;\n\n  let links = (nw - obj.w) / 2;\n  let oben = (nh - obj.h) / 2;\n\n  ctx.drawImage(\n    theImage,\n    obj.x,\n    obj.y,\n    obj.w,\n    obj.h,\n    obj.x - links,\n    obj.y - oben,\n    obj.w * mag,\n    obj.h * mag\n  );\n  if (mag < targetMag) {\n    window.requestAnimationFrame(function() {\n      drawImage(obj, targetMag, color, mag + animationSpeed);\n    });\n  }\n}\n\ninitCanvas();\nfunction writeMessage(canvas, message) {\n  var context = canvas.getContext(\"2d\");\n  context.clearRect(0, 0, 300, 50);\n  context.font = \"18pt Calibri\";\n  context.fillStyle = \"black\";\n  context.fillText(message, 10, 25);\n}\nfunction getMousePos(canvas, evt) {\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: evt.clientX - rect.left,\n    y: evt.clientY - rect.top\n  };\n}\nvar canvas = document.getElementById(\"image\");\nvar context = canvas.getContext(\"2d\");\n\ncanvas.addEventListener(\n  \"mousemove\",\n  function(evt) {\n    var mousePos = getMousePos(canvas, evt);\n    resetImage();\n\n    for (var j = 0; j < rowCount; j++) {\n      for (var i = 0; i < colCount; i++) {\n        let o = areas[i][j];\n\n        if (\n          mousePos.x > o.x &&\n          mousePos.x < o.x + o.w &&\n          mousePos.y > o.y &&\n          mousePos.y < o.y + o.h\n        ) {\n          let lowerer = 0.8;\n          let reducer = magnifier * lowerer;\n\n          // move to left and right\n          let mag = magnifier;\n          for (let k = 1; k <= swooshLength; k++) {\n            mag = mag * 0.8;\n            if (mag > 1) {\n              drawImage(areas[i + k][j], mag); // right\n\n              drawImage(areas[i - k][j], mag); // left\n\n              drawImage(areas[i][j + k], mag); //bottom\n              drawImage(areas[i][j - k], mag); //top\n\n              drawImage(areas[i + k][j + k], mag); // top right\n              drawImage(areas[i - k][j - k], mag); // bbottom left\n\n              drawImage(areas[i + k][j - k], mag); // top right\n              drawImage(areas[i - k][j + k], mag); // bbottom left\n\n              for (let l = 0; l < k; l++) {\n                drawImage(areas[i + k][j + l], mag); // down\n                drawImage(areas[i - k][j + l], mag); // up\n\n                drawImage(areas[i + k][j - l], mag); // down\n                drawImage(areas[i - k][j - l], mag); // up\n\n                drawImage(areas[i - l][j + k], mag); //bottom\n                drawImage(areas[i + l][j + k], mag); //bottom\n\n                drawImage(areas[i + l][j - k], mag); //top\n                drawImage(areas[i - l][j - k], mag); //top\n              }\n            }\n            /*\n            if(k == swooshLength) {\n              if(areas[i]){\n                for(let l = j+k; l<areas[i].length; i++){\n\n                  drawImage(areas[i][l], mag, \"#00FF00\")\n\n                }\n              }\n            }\n            */\n            //            drawImage(areas[i-k][j], magnifier * (1/k))\n          }\n          /*\n          for(let k=swooshLenght; k>=0; k--) {\n            areas[i+k][j];\n          }\n\n          for(let k=0; k<=swooshLenght; k++) {\n\n            drawImage(areas[i+k][j+1], getK(k))\n            drawImage(areas[i+k][j-1], getK(k))\n            drawImage(areas[i+k][j], getK(k))\n            drawImage(areas[i][j+k], getK(k))\n\n          }\n\n          for(let k=swooshLenght; k>=0; k--) {\n            drawImage(areas[i-k][j+1], getK(k))\n            drawImage(areas[i-k][j-1], getK(k))\n            drawImage(areas[i-k][j], getK(k))\n            drawImage(areas[i][j-k], getK(k))\n\n          }*/\n\n          drawImage(o, magnifier);\n        }\n      }\n    }\n    /*\n    for (i = 0; i < areas.length; i++) {\n      let o = areas[i];\n      if (\n        mousePos.x > o.x &&\n        mousePos.x < o.x + o.w &&\n        mousePos.y > o.y &&\n        mousePos.y < o.y + o.h\n      ) {\n        console.log(\"Catch\");\n        resetImage();\n\n        drawImage(areas[i+1], 1.5)\n         drawImage(areas[i-1], 1.5)\n        drawImage(o, 2);\n      }\n    }\n    */\n    var message = \"Mouse position: \" + mousePos.x + \",\" + mousePos.y;\n    writeMessage(canvas, message);\n  },\n  false\n);\n"],"sourceRoot":""}