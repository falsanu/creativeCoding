{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js"],"names":["ctx","document","getElementById","width","height","areas","Array","rowCount","colCount","magnifier","magnifierReducer","swooshLength","animationSpeed","animate","imageSource","theImage","Image","getContext","initCanvas","rectWidth","rectHeight","j","i","x","y","w","h","push","active","onload","console","log","src","sliceCanvas","o","strokeStyle","strokeRect","resetImage","drawImage","obj","direction","k","mag","targetMag","color","nw","left","top","writeMessage","canvas","message","context","clearRect","font","fillStyle","fillText","getMousePos","evt","rect","getBoundingClientRect","clientX","clientY","addEventListener","mousePos"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","var ctx = document.getElementById(\"image\");\nlet width = ctx.width;\nlet height = ctx.height;\nlet areas = new Array();\n\nlet rowCount = 20;\nlet colCount = 30;\nlet magnifier = 3;\nlet magnifierReducer = 1.2;\nlet swooshLength = 3;\nlet animationSpeed = 0.1;\nlet animate = true;\n\nlet imageSource =\n  \"https://images.pexels.com/photos/681335/pexels-photo-681335.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350\";\n\nlet theImage = new Image();\n\n// create canvas\nif (ctx.getContext) {\n  ctx = ctx.getContext(\"2d\");\n}\n\nfunction initCanvas() {\n  //Loading of the home test image - img1\n  let rectWidth = width / colCount;\n  let rectHeight = height / rowCount;\n\n  for (var j = 0; j < rowCount; j++) {\n    for (var i = 0; i < colCount; i++) {\n      const x = i * rectWidth,\n        y = j * rectHeight,\n        w = rectWidth,\n        h = rectHeight;\n\n      if (!areas[i]) {\n        areas[i] = [];\n      }\n      areas[i].push({\n        x,\n        y,\n        w,\n        h,\n        active: false\n      });\n    }\n  }\n  //drawing of the test image - img1\n  theImage.onload = function() {\n    console.log(\"Image Loaded\");\n  };\n  theImage.src = imageSource;\n\n  // sliceCanvas();\n}\n\nfunction sliceCanvas() {\n  return;\n  for (var j = 0; j < rowCount; j++) {\n    for (var i = 0; i < colCount; i++) {\n      const o = areas[i][j];\n      ctx.strokeStyle = \"#ffffff\";\n      ctx.strokeRect(o.x, o.y, o.w, o.h);\n    }\n  }\n}\n\nfunction resetImage() {\n  ctx.drawImage(theImage, 0, 0);\n}\n\nfunction drawImage(obj, direction, k, mag, targetMag) {\n  if (!obj) return;\n  if (!mag) {\n    // mag = 1;\n    mag = targetMag;\n  }\n  // if (!animate) {\n  //   mag = targetMag;\n  // }\n  let color = \"#FF0000\";\n\n  let nw = obj.w * mag,\n    h = obj.h * mag;\n  let left = (nw - obj.w) / 2;\n  let top = (h - obj.h) / 2;\n\n  let x = obj.x - left;\n  let y = obj.y - top;\n\n  if (targetMag != magnifier) {\n    switch (direction) {\n      case \"t\":\n        top = 0;\n        // console.log(top);\n        // console.log();\n        y = obj.y - (h - obj.h) / 2;\n        // h = 200;\n        break;\n      case \"tr\":\n        break;\n      case \"r\":\n        break;\n      case \"dr\":\n        break;\n      case \"d\":\n        // top = -nh * 2; //- obj.h + 200;\n        break;\n      case \"dl\":\n        break;\n      case \"l\":\n        break;\n      case \"tl\":\n        break;\n    }\n  }\n\n  ctx.drawImage(theImage, obj.x, obj.y, obj.w, obj.h, x, y, obj.w * mag, h);\n  ctx.strokeStyle = \"#ffffff\";\n  ctx.strokeRect(x, y, obj.w * mag, h);\n  if (mag < targetMag) {\n    // window.requestAnimationFrame(function() {\n    //   drawImage(obj, direction, k, targetMag, mag + animationSpeed);\n    // });\n  }\n}\n\ninitCanvas();\n\nfunction writeMessage(canvas, message) {\n  var context = canvas.getContext(\"2d\");\n  context.clearRect(0, 0, 300, 50);\n  context.font = \"18pt Calibri\";\n  context.fillStyle = \"black\";\n  context.fillText(message, 10, 25);\n}\n\nfunction getMousePos(canvas, evt) {\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: evt.clientX - rect.left,\n    y: evt.clientY - rect.top\n  };\n}\nvar canvas = document.getElementById(\"image\");\nvar context = canvas.getContext(\"2d\");\n\ncanvas.addEventListener(\n  \"mousemove\",\n  function(evt) {\n    var mousePos = getMousePos(canvas, evt);\n    resetImage();\n\n    for (var j = 0; j < rowCount; j++) {\n      for (var i = 0; i < colCount; i++) {\n        let o = areas[i][j];\n\n        if (\n          mousePos.x > o.x &&\n          mousePos.x < o.x + o.w &&\n          mousePos.y > o.y &&\n          mousePos.y < o.y + o.h\n        ) {\n          // let lowerer = magnifierReducer;\n          // let reducer = magnifier * lowerer;\n\n          // move to left and right\n          let mag = 0.5;\n          for (let k = swooshLength; k >= 1; k--) {\n            mag = mag + magnifierReducer;\n\n            if (mag <= magnifier) {\n              drawImage(areas[i + k][j + k], \"d\", k, mag); // top right\n              drawImage(areas[i - k][j - k], \"d\", k, mag); // bbottom left\n\n              drawImage(areas[i + k][j - k], \"d\", k, mag); // top right\n              drawImage(areas[i - k][j + k], \"d\", k, mag); // bbottom left\n\n              // for (let l = 0; l < k; l++) {\n              //   drawImage(areas[i + k][j + l], \"d\", k, mag); // down\n              //   drawImage(areas[i - k][j + l], \"d\", k, mag); // up\n\n              //   drawImage(areas[i + k][j - l], \"d\", k, mag); // down\n              //   drawImage(areas[i - k][j - l], \"d\", k, mag); // up\n\n              //   drawImage(areas[i - l][j + k], \"d\", k, mag); //bottom\n              //   drawImage(areas[i + l][j + k], \"d\", k, mag); //bottom\n\n              //   drawImage(areas[i + l][j - k], \"d\", k, mag); //top\n              //   drawImage(areas[i - l][j - k], \"d\", k, mag); //top\n              // }\n\n              drawImage(areas[i][j - k], \"t\", k, mag); //top\n\n              drawImage(areas[i + k][j], \"r\", k, mag); // right\n\n              drawImage(areas[i - k][j], \"l\", k, mag); // left\n\n              drawImage(areas[i][j + k], \"d\", k, mag); //bottom\n            }\n          }\n          drawImage(o, \"t\", 0, magnifier);\n        }\n      }\n    }\n\n    var message = \"Mouse position: \" + mousePos.x + \",\" + mousePos.y;\n    writeMessage(canvas, message);\n  },\n  false\n);\n"],"sourceRoot":""}